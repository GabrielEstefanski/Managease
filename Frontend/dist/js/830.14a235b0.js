"use strict";(self["webpackChunkweb_project"]=self["webpackChunkweb_project"]||[]).push([[830],{6830:function(e,s,r){r.r(s),r.d(s,{default:function(){return L}});var a=r(6768),o=r(4232);const t=e=>((0,a.Qi)("data-v-0f743ca1"),e=e(),(0,a.jt)(),e),n={class:"container"},l={class:"column gap-2 mb-3"},u=t((()=>(0,a.Lk)("label",{for:"username"},"Name",-1))),c={class:"column gap-2 mb-3"},d=t((()=>(0,a.Lk)("label",{for:"username"},"Username",-1))),i={class:"column gap-2 mb-3"},m=t((()=>(0,a.Lk)("label",{for:""},"Password",-1))),h={class:"column gap-2 mb-3"},w=t((()=>(0,a.Lk)("label",{for:""},"Confirm your password",-1))),p={class:"flex gap-3 mt-1"};function f(e,s,r,t,f,k){const g=(0,a.g2)("InputText"),v=(0,a.g2)("Password"),b=(0,a.g2)("InlineMessage"),y=(0,a.g2)("Button"),U=(0,a.g2)("Card"),P=(0,a.g2)("Toast");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(U,{style:{width:"25rem",overflow:"hidden"}},{title:(0,a.k6)((()=>[(0,a.eW)("Sign up")])),content:(0,a.k6)((()=>[(0,a.Lk)("div",l,[u,(0,a.bF)(g,{modelValue:e.user.name,"onUpdate:modelValue":s[0]||(s[0]=s=>e.user.name=s)},null,8,["modelValue"])]),(0,a.Lk)("div",c,[d,(0,a.bF)(g,{modelValue:e.user.username,"onUpdate:modelValue":s[1]||(s[1]=s=>e.user.username=s),invalid:!!e.errorUsername},null,8,["modelValue","invalid"])]),(0,a.Lk)("div",i,[m,(0,a.bF)(v,{modelValue:e.user.password,"onUpdate:modelValue":s[2]||(s[2]=s=>e.user.password=s),feedback:!1,inputStyle:{width:"100%"},toggleMask:"",invalid:!!e.errorPassword},null,8,["modelValue","invalid"])]),(0,a.Lk)("div",h,[w,(0,a.bF)(v,{modelValue:e.confirmPassword,"onUpdate:modelValue":s[3]||(s[3]=s=>e.confirmPassword=s),feedback:!1,inputStyle:{width:"100%"},toggleMask:"",invalid:!!e.errorPassword},null,8,["modelValue","invalid"])]),e.errorPassword||e.errorUsername?((0,a.uX)(),(0,a.Wv)(b,{key:0,severity:"error",class:"text-left",style:{width:"100%"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.errorPassword)+(0,o.v_)(e.errorUsername),1)])),_:1})):(0,a.Q3)("",!0)])),footer:(0,a.k6)((()=>[(0,a.Lk)("div",p,[(0,a.bF)(y,{label:"Login",class:"w-full",onClick:e.createUser},null,8,["onClick"])])])),_:1}),(0,a.bF)(P)])}r(4114);var k=r(1357),g=r(2151),v=r(782),b=r(1459),y=(0,a.pM)({name:"RegisterPage",setup(){const e=(0,g.d)();function s(){e.add({severity:"success",summary:"Success",detail:"User registered successfully"})}return{showSucessToast:s}},data(){return{user:{},users:[],confirmPassword:"",errorUsername:"",errorPassword:""}},created(){const e=(0,v.Pj)(),s=e.state.userId,r=e.state.userName;s&&r&&b.A.push("/home")},async mounted(){await this.fetchUsers()},methods:{async fetchUsers(){try{const e=await k.A.get("/user");this.users=e.data}catch(e){console.error("Error fetching users",e)}},async postUser(){try{await k.A.post("/user",this.user),this.showSucessToast()}catch(e){console.error("Error creating user",e)}},async createUser(){this.errorUsername="",this.errorPassword="";const e=await this.checkDuplicateUsername(this.user.username);e?this.errorUsername="This username already exists":this.user.password===this.confirmPassword?(await this.postUser(),b.A.push({path:"/",query:{successToast:"true"}})):this.errorPassword="Passwords do not match"},async checkDuplicateUsername(e){try{const s=this.users.find((s=>s.username.toLowerCase()===e.toLowerCase()));return void 0!==s}catch(s){return console.error("Error checking username",s),!1}}}}),U=r(1241);const P=(0,U.A)(y,[["render",f],["__scopeId","data-v-0f743ca1"]]);var L=P}}]);
//# sourceMappingURL=830.14a235b0.js.map