{"version":3,"file":"js/830.14a235b0.js","mappings":"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","sources":["webpack://web-project/./src/views/RegisterPage.vue?475d","webpack://web-project/./src/views/RegisterPage.vue","webpack://web-project/./src/views/RegisterPage.vue?5906"],"sourcesContent":["import { createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0f743ca1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = { class: \"column gap-2 mb-3\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"username\" }, \"Name\", -1))\nconst _hoisted_4 = { class: \"column gap-2 mb-3\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"username\" }, \"Username\", -1))\nconst _hoisted_6 = { class: \"column gap-2 mb-3\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"\" }, \"Password\", -1))\nconst _hoisted_8 = { class: \"column gap-2 mb-3\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"\" }, \"Confirm your password\", -1))\nconst _hoisted_10 = { class: \"flex gap-3 mt-1\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_InputText = _resolveComponent(\"InputText\")!\n  const _component_Password = _resolveComponent(\"Password\")!\n  const _component_InlineMessage = _resolveComponent(\"InlineMessage\")!\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_Card = _resolveComponent(\"Card\")!\n  const _component_Toast = _resolveComponent(\"Toast\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_Card, { style: {\"width\":\"25rem\",\"overflow\":\"hidden\"} }, {\n      title: _withCtx(() => [\n        _createTextVNode(\"Sign up\")\n      ]),\n      content: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createVNode(_component_InputText, {\n            modelValue: _ctx.user.name,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.user.name) = $event))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _hoisted_5,\n          _createVNode(_component_InputText, {\n            modelValue: _ctx.user.username,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.user.username) = $event)),\n            invalid: !!_ctx.errorUsername\n          }, null, 8, [\"modelValue\", \"invalid\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createVNode(_component_Password, {\n            modelValue: _ctx.user.password,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.user.password) = $event)),\n            feedback: false,\n            inputStyle: { 'width': '100%' },\n            toggleMask: \"\",\n            invalid: !!_ctx.errorPassword\n          }, null, 8, [\"modelValue\", \"invalid\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _hoisted_9,\n          _createVNode(_component_Password, {\n            modelValue: _ctx.confirmPassword,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.confirmPassword) = $event)),\n            feedback: false,\n            inputStyle: { 'width': '100%' },\n            toggleMask: \"\",\n            invalid: !!_ctx.errorPassword\n          }, null, 8, [\"modelValue\", \"invalid\"])\n        ]),\n        (_ctx.errorPassword || _ctx.errorUsername)\n          ? (_openBlock(), _createBlock(_component_InlineMessage, {\n              key: 0,\n              severity: \"error\",\n              class: \"text-left\",\n              style: {\"width\":\"100%\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.errorPassword) + _toDisplayString(_ctx.errorUsername), 1)\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ]),\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createVNode(_component_Button, {\n            label: \"Login\",\n            class: \"w-full\",\n            onClick: _ctx.createUser\n          }, null, 8, [\"onClick\"])\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_Toast)\n  ]))\n}","<template>\r\n    <div class=\"container\">\r\n        <Card style=\"width: 25rem; overflow: hidden\">\r\n            <template #title>Sign up</template>\r\n            <template #content>\r\n                <div class=\"column gap-2 mb-3\">\r\n                    <label for=\"username\">Name</label>\r\n                    <InputText v-model=\"user.name\"></InputText>\r\n                </div>\r\n                <div class=\"column gap-2 mb-3\">\r\n                    <label for=\"username\">Username</label>\r\n                    <InputText v-model=\"user.username\" :invalid=\"!!errorUsername\"></InputText>\r\n                </div>\r\n                <div class=\"column gap-2 mb-3\">\r\n                    <label for=\"\">Password</label>\r\n                    <Password v-model=\"user.password\" :feedback=\"false\" :inputStyle=\"{ 'width': '100%' }\" toggleMask\r\n                        :invalid=\"!!errorPassword\">\r\n                    </Password>\r\n                </div>\r\n                <div class=\"column gap-2 mb-3\">\r\n                    <label for=\"\">Confirm your password</label>\r\n                    <Password v-model=\"confirmPassword\" :feedback=\"false\" :inputStyle=\"{ 'width': '100%' }\" toggleMask\r\n                        :invalid=\"!!errorPassword\">\r\n                    </Password>\r\n                </div>\r\n                <InlineMessage v-if=\"errorPassword || errorUsername\" severity=\"error\" class=\"text-left\"\r\n                    style=\"width: 100%;\">{{ errorPassword }}{{ errorUsername }}\r\n                </InlineMessage>\r\n            </template>\r\n            <template #footer>\r\n                <div class=\"flex gap-3 mt-1\">\r\n                    <Button label=\"Login\" class=\"w-full\" @click=\"createUser\" />\r\n                </div>\r\n            </template>\r\n        </Card>\r\n        <Toast />\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue';\r\n\r\nimport IUsers from '../interfaces/IUsers';\r\nimport axiosInstance from '@/http';\r\nimport { useToast } from 'primevue/usetoast';\r\nimport { useStore } from 'vuex';\r\nimport router from '@/router';\r\n\r\nexport default defineComponent({\r\n    name: 'RegisterPage',\r\n    setup() {\r\n        const toasts = useToast();\r\n\r\n        function showSucessToast() {\r\n            toasts.add({ severity: 'success', summary: 'Success', detail: 'User registered successfully' });\r\n        }\r\n\r\n        return { showSucessToast };\r\n    },\r\n    data() {\r\n        return {\r\n            user: {} as IUsers,\r\n            users: [] as IUsers[],\r\n            confirmPassword: '',\r\n            errorUsername: '',\r\n            errorPassword: ''\r\n        }\r\n    },\r\n    created() {\r\n        const store = useStore();\r\n        const userId = store.state.userId;\r\n        const userName = store.state.userName;\r\n        if (userId && userName) {\r\n            router.push('/home');\r\n        }\r\n\r\n    },\r\n    async mounted() {\r\n        await this.fetchUsers();\r\n    },\r\n    methods: {\r\n        async fetchUsers() {\r\n            try {\r\n                const response = await axiosInstance.get('/user');\r\n                this.users = response.data as IUsers[];\r\n            } catch (error) {\r\n                console.error('Error fetching users', error);\r\n            }\r\n        },\r\n        async postUser() {\r\n            try {\r\n                await axiosInstance.post('/user', this.user);\r\n                this.showSucessToast();\r\n            } catch (error) {\r\n                console.error('Error creating user', error);\r\n            }\r\n        },\r\n        async createUser() {\r\n            this.errorUsername = '';\r\n            this.errorPassword = '';\r\n            const isDuplicate = await this.checkDuplicateUsername(this.user.username);\r\n            if (isDuplicate) {\r\n                this.errorUsername = 'This username already exists';\r\n                return\r\n            }\r\n\r\n            if (this.user.password !== this.confirmPassword) {\r\n                this.errorPassword = 'Passwords do not match';\r\n                return\r\n            }\r\n            await this.postUser()\r\n            router.push({ path: '/', query: { successToast: 'true' } });\r\n        },\r\n        async checkDuplicateUsername(username: string): Promise<boolean> {\r\n            try {\r\n                const userExists = this.users.find((user: IUsers) => {\r\n                    return user.username.toLowerCase() === username.toLowerCase();\r\n                });\r\n                return userExists !== undefined;\r\n            } catch (error) {\r\n                console.error('Error checking username', error);\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n</style>","import { render } from \"./RegisterPage.vue?vue&type=template&id=0f743ca1&scoped=true&ts=true\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=ts\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=ts\"\n\nimport \"./RegisterPage.vue?vue&type=style&index=0&id=0f743ca1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f743ca1\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","for","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","render","_ctx","_cache","$props","$setup","$data","$options","_component_InputText","_resolveComponent","_component_Password","_component_InlineMessage","_component_Button","_component_Card","_component_Toast","_openBlock","_createElementBlock","_createVNode","style","title","_withCtx","_createTextVNode","content","modelValue","user","name","$event","username","invalid","errorUsername","password","feedback","inputStyle","toggleMask","errorPassword","confirmPassword","_createBlock","key","severity","default","_toDisplayString","_","_createCommentVNode","footer","label","onClick","createUser","defineComponent","setup","toasts","useToast","showSucessToast","add","summary","detail","data","users","created","store","useStore","userId","state","userName","router","push","mounted","this","fetchUsers","methods","response","axiosInstance","get","error","console","postUser","post","isDuplicate","checkDuplicateUsername","path","query","successToast","userExists","find","toLowerCase","undefined","__exports__"],"sourceRoot":""}