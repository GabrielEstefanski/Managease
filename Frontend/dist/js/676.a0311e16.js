(self["webpackChunkweb_project"]=self["webpackChunkweb_project"]||[]).push([[676],{7002:function(t,a,e){t=e.nmd(t),e(4114),function(e,r){var n=r();t&&t.exports&&(a=t.exports=n),a.randomColor=n}(0,(function(){var t=null,a={};b();var e=[],r=function(a){if(a=a||{},void 0!==a.seed&&null!==a.seed&&a.seed===parseInt(a.seed,10))t=a.seed;else if("string"===typeof a.seed)t=y(a.seed);else{if(void 0!==a.seed&&null!==a.seed)throw new TypeError("The seed value must be an integer or string");t=null}var i,l,d;if(null!==a.count&&void 0!==a.count){for(var u=a.count,h=[],p=0;p<a.count;p++)e.push(!1);a.count=null;while(u>h.length){var m=r(a);null!==t&&(a.seed=t),h.push(m)}return a.count=u,h}return i=n(a),l=s(i,a),d=o(i,l,a),c([i,l,d],a)};function n(t){if(e.length>0){var a=_(t.hue),r=h(a),n=(a[1]-a[0])/e.length,s=parseInt((r-a[0])/n);!0===e[s]?s=(s+2)%e.length:e[s]=!0;var o=(a[0]+s*n)%359,c=(a[0]+(s+1)*n)%359;return a=[o,c],r=h(a),r<0&&(r=360+r),r}a=l(t.hue);return r=h(a),r<0&&(r=360+r),r}function s(t,a){if("monochrome"===a.hue)return 0;if("random"===a.luminosity)return h([0,100]);var e=d(t),r=e[0],n=e[1];switch(a.luminosity){case"bright":r=55;break;case"dark":r=n-10;break;case"light":n=55;break}return h([r,n])}function o(t,a,e){var r=i(t,a),n=100;switch(e.luminosity){case"dark":n=r+20;break;case"light":r=(n+r)/2;break;case"random":r=0,n=100;break}return h([r,n])}function c(t,a){switch(a.format){case"hsvArray":return t;case"hslArray":return v(t);case"hsl":var e=v(t);return"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)";case"hsla":var r=v(t),n=a.alpha||Math.random();return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+n+")";case"rgbArray":return f(t);case"rgb":var s=f(t);return"rgb("+s.join(", ")+")";case"rgba":var o=f(t);n=a.alpha||Math.random();return"rgba("+o.join(", ")+", "+n+")";default:return p(t)}}function i(t,a){for(var e=u(t).lowerBounds,r=0;r<e.length-1;r++){var n=e[r][0],s=e[r][1],o=e[r+1][0],c=e[r+1][1];if(a>=n&&a<=o){var i=(c-s)/(o-n),l=s-i*n;return i*a+l}}return 0}function l(t){if("number"===typeof parseInt(t)){var e=parseInt(t);if(e<360&&e>0)return[e,e]}if("string"===typeof t)if(a[t]){var r=a[t];if(r.hueRange)return r.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var n=g(t)[0];return[n,n]}return[0,360]}function d(t){return u(t).saturationRange}function u(t){for(var e in t>=334&&t<=360&&(t-=360),a){var r=a[e];if(r.hueRange&&t>=r.hueRange[0]&&t<=r.hueRange[1])return a[e]}return"Color not found"}function h(a){if(null===t){var e=.618033988749895,r=Math.random();return r+=e,r%=1,Math.floor(a[0]+r*(a[1]+1-a[0]))}var n=a[1]||1,s=a[0]||0;t=(9301*t+49297)%233280;var o=t/233280;return Math.floor(s+o*(n-s))}function p(t){var a=f(t);function e(t){var a=t.toString(16);return 1==a.length?"0"+a:a}var r="#"+e(a[0])+e(a[1])+e(a[2]);return r}function m(t,e,r){var n=r[0][0],s=r[r.length-1][0],o=r[r.length-1][1],c=r[0][1];a[t]={hueRange:e,lowerBounds:r,saturationRange:[n,s],brightnessRange:[o,c]}}function b(){m("monochrome",null,[[0,0],[100,0]]),m("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),m("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),m("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),m("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),m("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),m("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),m("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function f(t){var a=t[0];0===a&&(a=1),360===a&&(a=359),a/=360;var e=t[1]/100,r=t[2]/100,n=Math.floor(6*a),s=6*a-n,o=r*(1-e),c=r*(1-s*e),i=r*(1-(1-s)*e),l=256,d=256,u=256;switch(n){case 0:l=r,d=i,u=o;break;case 1:l=c,d=r,u=o;break;case 2:l=o,d=r,u=i;break;case 3:l=o,d=c,u=r;break;case 4:l=i,d=o,u=r;break;case 5:l=r,d=o,u=c;break}var h=[Math.floor(255*l),Math.floor(255*d),Math.floor(255*u)];return h}function g(t){t=t.replace(/^#/,""),t=3===t.length?t.replace(/(.)/g,"$1$1"):t;var a=parseInt(t.substr(0,2),16)/255,e=parseInt(t.substr(2,2),16)/255,r=parseInt(t.substr(4,2),16)/255,n=Math.max(a,e,r),s=n-Math.min(a,e,r),o=n?s/n:0;switch(n){case a:return[(e-r)/s%6*60||0,o,n];case e:return[60*((r-a)/s+2)||0,o,n];case r:return[60*((a-e)/s+4)||0,o,n]}}function v(t){var a=t[0],e=t[1]/100,r=t[2]/100,n=(2-e)*r;return[a,Math.round(e*r/(n<1?n:2-n)*1e4)/100,n/2*100]}function y(t){for(var a=0,e=0;e!==t.length;e++){if(a>=Number.MAX_SAFE_INTEGER)break;a+=t.charCodeAt(e)}return a}function _(t){if(isNaN(t)){if("string"===typeof t)if(a[t]){var e=a[t];if(e.hueRange)return e.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var r=g(t)[0];return u(r).hueRange}}else{var n=parseInt(t);if(n<360&&n>0)return u(t).hueRange}return[0,360]}return r}))},8676:function(t,a,e){"use strict";e.r(a),e.d(a,{default:function(){return qt}});var r=e(6768),n=e(4232);const s=t=>((0,r.Qi)("data-v-3501a89d"),t=t(),(0,r.jt)(),t),o={class:"container"},c={class:"dashboard"},i={class:"title"},l={key:0,class:"spinner-container"},d=s((()=>(0,r.Lk)("i",{class:"pi pi-spin pi-spinner large-spinner"},null,-1))),u=[d],h={class:"dashboard-display row"},p={class:"flex-card"},m={key:0,class:"flex-card-content"},b={key:1,class:"flex-card-content"},f=s((()=>(0,r.Lk)("div",{class:"flex-card-full"},[(0,r.Lk)("i",{class:"pi pi-money-bill",style:{"font-size":"3.5rem",color:"rgb(200, 200, 200)"}})],-1))),g={class:"flex-card"},v={key:0,class:"flex-card-content"},y={key:1,class:"flex-card-content"},_=s((()=>(0,r.Lk)("div",{class:"flex-card-full"},[(0,r.Lk)("i",{class:"pi pi-briefcase",style:{"font-size":"3.5rem",color:"rgb(200, 200, 200)"}})],-1))),C={class:"flex-card"},k={key:0,class:"flex-card-content"},D={key:1,class:"flex-card-content"},w=s((()=>(0,r.Lk)("div",{class:"flex-card-full"},[(0,r.Lk)("i",{class:"pi pi-dollar",style:{"font-size":"3.5rem",color:"rgb(200, 200, 200)"}})],-1))),$={class:"flex-card"},A={key:0,class:"flex-card-content"},I={key:1,class:"flex-card-content"},L=s((()=>(0,r.Lk)("div",{class:"flex-card-full"},[(0,r.Lk)("i",{class:"pi pi-building",style:{"font-size":"3.5rem",color:"rgb(200, 200, 200)"}})],-1))),x={class:"dashboard-display row"},F={class:"col-md-4 col-sm-6 mt-5 mb-3"},M={key:1,class:"empty-card"},E={class:"col-md-4 col-sm-6 mt-5 mb-3"},O={key:1,class:"empty-card"},j={class:"dashboard-display"},S={class:"col-md-4 col-sm-6 mt-5 mb-3"},N={key:0,class:"flex-card"},X={key:1,class:"empty-card"},B={class:"col-md-4 col-sm-6 mt-5 mb-3"},W={key:1,class:"empty-card"},R={key:1,class:"empty-card"},P={class:"dashboard-display"},U={class:"card-branche-company mr-4"},z={key:1,class:"empty-card"},T={class:"card-branche-company mr-3"},J={class:"col-md-4 mt-5 mb-3"},q={key:1,class:"empty-card"},H={class:"dashboard-display"},K={class:"table mr-4 mt-5"},Z={style:{"font-size":"1.5rem","font-weight":"700",color:"#495057"}},V={class:"data-table",ref:"tableRef",tableStyle:"width: 100%"},Y={class:"table mt-5"},G={style:{"font-size":"1.5rem","font-weight":"700",color:"#495057"}},Q={class:"data-table"};function tt(t,a,e,s,d,tt){const at=(0,r.g2)("Card"),et=(0,r.g2)("LineChart"),rt=(0,r.g2)("BarChart"),nt=(0,r.g2)("DoughnutChart"),st=(0,r.g2)("HorizontalBarChart"),ot=(0,r.g2)("PieChart"),ct=(0,r.g2)("Toolbar"),it=(0,r.g2)("CountryFlag"),lt=(0,r.g2)("Column"),dt=(0,r.g2)("DataTable");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",c,[(0,r.Lk)("h1",i,(0,n.v_)(t.$t("dashboard_page.title")),1),t.isLoaded?((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Lk)("div",h,[(0,r.bF)(at,{class:"mini-card col-md-4 mt-3 mr-5"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_total_net")),1)])),content:(0,r.k6)((()=>[(0,r.Lk)("div",p,[0!==t.countAllNetIncome?((0,r.uX)(),(0,r.CE)("div",m,(0,n.v_)(t.formatCurrency(t.countAllNetIncome.toString()))+" USD ",1)):((0,r.uX)(),(0,r.CE)("div",b,(0,n.v_)(t.$t("dashboard_page.empty_card")),1)),f])])),_:1}),(0,r.bF)(at,{class:"mini-card col-md-4 mt-3 mr-4"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_companies")),1)])),content:(0,r.k6)((()=>[(0,r.Lk)("div",g,[t.totalCompaniesCounts>0?((0,r.uX)(),(0,r.CE)("div",v,(0,n.v_)(t.totalCompaniesCounts)+" "+(0,n.v_)(t.$t("dashboard_page.card_companies_description")),1)):((0,r.uX)(),(0,r.CE)("div",y,(0,n.v_)(t.$t("dashboard_page.empty_card")),1)),_])])),_:1}),(0,r.bF)(at,{class:"mini-card col-md-4 mt-3 mr-5"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_financials")),1)])),content:(0,r.k6)((()=>[(0,r.Lk)("div",C,[t.totalFinancialsCounts>0?((0,r.uX)(),(0,r.CE)("div",k,(0,n.v_)(t.totalFinancialsCounts)+" "+(0,n.v_)(t.$t("dashboard_page.card_financials_description")),1)):((0,r.uX)(),(0,r.CE)("div",D,(0,n.v_)(t.$t("dashboard_page.empty_card")),1)),w])])),_:1}),(0,r.bF)(at,{class:"mini-card col-md-4 mt-3"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_branches")),1)])),content:(0,r.k6)((()=>[(0,r.Lk)("div",$,[t.totalBrancheCounts>0?((0,r.uX)(),(0,r.CE)("div",A,(0,n.v_)(t.totalBrancheCounts)+" "+(0,n.v_)(t.$t("dashboard_page.card_branches_description")),1)):((0,r.uX)(),(0,r.CE)("div",I,(0,n.v_)(t.$t("dashboard_page.empty_card")),1)),L])])),_:1})]),(0,r.Lk)("div",x,[(0,r.Lk)("div",F,[(0,r.bF)(at,{class:"chart-card mr-4"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_line_graph")),1)])),content:(0,r.k6)((()=>[t.netIncomeChartData.labels.length>0?((0,r.uX)(),(0,r.Wv)(et,{key:0,chartData:t.netIncomeChartData},null,8,["chartData"])):((0,r.uX)(),(0,r.CE)("div",M,(0,n.v_)(t.$t("dashboard_page.empty_card")),1))])),_:1})]),(0,r.Lk)("div",E,[(0,r.bF)(at,{class:"chart-card"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_bars_branches")),1)])),content:(0,r.k6)((()=>[t.barChartData.labels.length>0?((0,r.uX)(),(0,r.Wv)(rt,{key:0,chartData:t.barChartData},null,8,["chartData"])):((0,r.uX)(),(0,r.CE)("div",O,(0,n.v_)(t.$t("dashboard_page.empty_card")),1))])),_:1})])]),(0,r.Lk)("div",j,[(0,r.Lk)("div",S,[(0,r.bF)(at,{class:"small-chart-card mr-3"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_doughnuts_sector")),1)])),content:(0,r.k6)((()=>[t.expenseChartData.labels.length>0?((0,r.uX)(),(0,r.CE)("div",N,[(0,r.bF)(nt,{"chart-data":t.sectorsChartData},null,8,["chart-data"])])):((0,r.uX)(),(0,r.CE)("div",X,(0,n.v_)(t.$t("dashboard_page.empty_card")),1))])),_:1})]),(0,r.Lk)("div",B,[(0,r.bF)(at,{class:"bar-chart-custom mr-3"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_horizontalbar_inactive")),1)])),content:(0,r.k6)((()=>[t.chartData.labels.length>0?((0,r.uX)(),(0,r.Wv)(st,{key:0,"chart-data":t.chartData},null,8,["chart-data"])):((0,r.uX)(),(0,r.CE)("div",W,(0,n.v_)(t.$t("dashboard_page.empty_card")),1))])),_:1})]),(0,r.bF)(at,{class:"small-chart-card col-sm-6 mt-5"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_pie_net_income"))+" - "+(0,n.v_)(t.formattedDate),1)])),content:(0,r.k6)((()=>[t.pieChartData.labels.length>0?((0,r.uX)(),(0,r.Wv)(ot,{key:0,"chart-data":t.pieChartData},null,8,["chart-data"])):((0,r.uX)(),(0,r.CE)("div",R,(0,n.v_)(t.$t("dashboard_page.empty_card")),1))])),_:1})]),(0,r.Lk)("div",P,[(0,r.Lk)("div",U,[(0,r.bF)(at,{class:"chart-card mt-5"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_line_revenue")),1)])),content:(0,r.k6)((()=>[t.revenueChartData.labels.length>0?((0,r.uX)(),(0,r.Wv)(et,{key:0,chartData:t.revenueChartData},null,8,["chartData"])):((0,r.uX)(),(0,r.CE)("div",z,(0,n.v_)(t.$t("dashboard_page.empty_card")),1))])),_:1})]),(0,r.Lk)("div",T,[(0,r.Lk)("div",J,[(0,r.bF)(at,{class:"chart-card col-sm-6"},{title:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.card_line_expense")),1)])),content:(0,r.k6)((()=>[t.expenseChartData.labels.length>0?((0,r.uX)(),(0,r.Wv)(et,{key:0,"chart-data":t.expenseChartData},null,8,["chart-data"])):((0,r.uX)(),(0,r.CE)("div",q,(0,n.v_)(t.$t("dashboard_page.empty_card")),1))])),_:1})])])]),(0,r.Lk)("div",H,[(0,r.Lk)("div",K,[(0,r.bF)(ct,null,{start:(0,r.k6)((()=>[(0,r.Lk)("label",Z,(0,n.v_)(t.$t("dashboard_page.table_top_countries")),1)])),_:1}),(0,r.Lk)("div",V,[(0,r.bF)(dt,{value:t.countryCounts,paginator:!0,rows:10,tableStyle:"width: 100%"},{empty:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.table_column_country_empty")),1)])),default:(0,r.k6)((()=>[(0,r.bF)(lt,{field:"country",header:t.$t("dashboard_page.table_column_country")},{body:(0,r.k6)((({data:a})=>[(0,r.bF)(it,{class:"mr-1",country:t.getCountryCode(a.country)},null,8,["country"]),(0,r.Lk)("span",null,(0,n.v_)(t.getCountryName(a.country)),1)])),_:1},8,["header"]),(0,r.bF)(lt,{field:"counts",header:t.$t("dashboard_page.table_column_count_branches")},null,8,["header"])])),_:1},8,["value"])],512)]),(0,r.Lk)("div",Y,[(0,r.bF)(ct,null,{start:(0,r.k6)((()=>[(0,r.Lk)("label",G,(0,n.v_)(t.$t("dashboard_page.table_top_financials_earnings"))+" - "+(0,n.v_)(t.formattedDate),1)])),_:1}),(0,r.Lk)("div",Q,[(0,r.bF)(dt,{value:t.topEarnings,paginator:!0,rows:10},{empty:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(t.$t("dashboard_page.table_column_valuation_empty")),1)])),default:(0,r.k6)((()=>[(0,r.bF)(lt,{field:"companyName",header:t.$t("dashboard_page.table_column_company")},null,8,["header"]),(0,r.bF)(lt,{field:"sector",header:t.$t("dashboard_page.table_column_sector")},null,8,["header"]),(0,r.bF)(lt,{field:"earnings",header:t.$t("dashboard_page.table_column_earnings")},{body:(0,r.k6)((({data:a})=>[(0,r.Lk)("data",null,(0,n.v_)(t.formatCurrency(a.earnings)),1)])),_:1},8,["header"]),(0,r.bF)(lt,{field:"active",header:t.$t("dashboard_page.table_column_status")},{body:(0,r.k6)((({data:t})=>[(0,r.Lk)("i",{class:(0,n.C4)(["pi",{"pi-check-circle text-green-500":1===t.active,"pi-times-circle text-red-400":0===t.active}])},null,2)])),_:1},8,["header"])])),_:1},8,["value"])])])])],64)):((0,r.uX)(),(0,r.CE)("div",l,u))])])}e(4114),e(3375),e(9225),e(3972),e(9209),e(5714),e(7561),e(6197);var at=e(144),et=e(1357);function rt(t,a,e,n,s,o){const c=(0,r.g2)("Chart");return(0,r.uX)(),(0,r.Wv)(c,{type:"bar",data:t.chartData,options:t.chartOptions},null,8,["data","options"])}var nt=e(9361),st=e(6056),ot={root:{position:"relative"}},ct={root:"p-chart"},it=st.A.extend({name:"chart",inlineStyles:ot,classes:ct}),lt={name:"BaseChart",extends:nt.A,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:it,provide:function(){return{$parentInstance:this}}},dt={name:"Chart",extends:lt,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var t=this;e.e(571).then(e.bind(e,3571)).then((function(a){t.chart&&(t.chart.destroy(),t.chart=null),a&&a["default"]&&(t.chart=new a["default"](t.$refs.canvas,{type:t.type,data:t.data,options:t.options,plugins:t.plugins})),t.$emit("loaded",t.chart)}))},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(t){if(this.chart){var a=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),e=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);a&&a[0]&&e&&this.$emit("select",{originalEvent:t,element:a[0],dataset:e})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ht(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,r)}return e}function pt(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?ht(Object(e),!0).forEach((function(a){mt(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ht(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function mt(t,a,e){return a=bt(a),a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function bt(t){var a=ft(t,"string");return"symbol"==ut(a)?a:String(a)}function ft(t,a){if("object"!=ut(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,a||"default");if("object"!=ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}var gt=["width","height"];function vt(t,a,e,n,s,o){return(0,r.uX)(),(0,r.CE)("div",(0,r.v6)({class:t.cx("root"),style:t.sx("root")},t.ptmi("root")),[(0,r.Lk)("canvas",(0,r.v6)({ref:"canvas",width:t.width,height:t.height,onClick:a[0]||(a[0]=function(t){return o.onCanvasClick(t)})},pt(pt({},t.canvasProps),t.ptm("canvas"))),null,16,gt)],16)}dt.render=vt;var yt=(0,r.pM)({name:"HorizontalBarChart",created(){this.chartData},props:{chartData:{type:Object,required:!0}},components:{Chart:dt},data(){return{chartOptions:{indexAxis:"y",responsive:!0,plugins:{legend:{display:!1}},scales:{x:{ticks:{color:"grey",callback:function(t){if(t%1===0)return t}},grid:{display:!1,drawBorder:!1}},y:{beginAtZero:!0,grid:{color:"rgb(250, 250, 250)",drawBorder:!1}}}}}}}),_t=e(1241);const Ct=(0,_t.A)(yt,[["render",rt],["__scopeId","data-v-73a8635c"]]);var kt=Ct,Dt=e(7002),wt=e.n(Dt);function $t(t,a,e,n,s,o){const c=(0,r.g2)("Chart");return(0,r.uX)(),(0,r.Wv)(c,{type:"doughnut",data:t.chartData,options:t.chartOptions},null,8,["data","options"])}var At=(0,r.pM)({name:"DoughnutChart",created(){this.chartData},props:{chartData:{type:Object,required:!0}},components:{Chart:dt},data(){return{chartOptions:{indexAxis:"y",responsive:!0,plugins:{legend:{labels:{color:"grey"}}}}}}});const It=(0,_t.A)(At,[["render",$t]]);var Lt=It;function xt(t,a,e,n,s,o){const c=(0,r.g2)("Chart");return(0,r.uX)(),(0,r.Wv)(c,{type:"line",data:t.chartData,options:t.chartOptions,class:"w-full md:w-30rem"},null,8,["data","options"])}var Ft=(0,r.pM)({name:"LineChartChart",props:{chartData:{type:Object,required:!0}},components:{Chart:dt},setup(){const t=(0,at.KR)({responsive:!0,plugins:{legend:{labels:{color:"grey"}}},scales:{x:{ticks:{color:"grey"},grid:{color:"rgb(225, 225, 225)"}},y:{position:"left",beginAtZero:!0,ticks:{color:"grey",callback:function(t){const a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return t<0?"-"+a.format(Math.abs(t)):a.format(t)}},grid:{color:"rgb(225, 225, 225)"}}}});return{chartOptions:t}}});const Mt=(0,_t.A)(Ft,[["render",xt],["__scopeId","data-v-4ce7f7e8"]]);var Et=Mt;function Ot(t,a,e,n,s,o){const c=(0,r.g2)("Chart");return(0,r.uX)(),(0,r.Wv)(c,{type:"bar",data:t.chartData,options:t.chartOptions,class:"w-full md:w-30rem"},null,8,["data","options"])}var jt=(0,r.pM)({name:"HorizontalBarChart",props:{chartData:{type:Object,required:!0}},components:{Chart:dt},setup(t){const a=(0,at.KR)({responsive:!0,plugins:{legend:{display:!1}},scales:{x:{ticks:{color:"grey"},grid:{display:!1}},y:{suggestedMin:0,suggestedMax:0,beginAtZero:!0,ticks:{color:"grey",callback:function(t){if(t%1===0)return t}},grid:{color:"rgb(225, 225, 225)"}}}});return(0,r.wB)((()=>t.chartData.datasets[0].data),(()=>{const e=Math.max(...t.chartData.datasets[0].data);a.value.scales.y.suggestedMax=e+5})),{chartOptions:a}}});const St=(0,_t.A)(jt,[["render",Ot],["__scopeId","data-v-818d2b44"]]);var Nt=St;function Xt(t,a,e,n,s,o){const c=(0,r.g2)("Chart");return(0,r.uX)(),(0,r.Wv)(c,{type:"pie",data:t.chartData,options:t.chartOptions},null,8,["data","options"])}var Bt=(0,r.pM)({name:"PieChart",created(){this.chartData},props:{chartData:{type:Object,required:!0}},components:{Chart:dt},data(){return{chartOptions:{indexAxis:"y",responsive:!0,plugins:{legend:{labels:{color:"grey"}}}}}}});const Wt=(0,_t.A)(Bt,[["render",Xt]]);var Rt=Wt,Pt=e(1459),Ut=e(5384),zt=e(782),Tt=(0,r.pM)({name:"HomePage",components:{HorizontalBarChart:kt,LineChart:Et,DoughnutChart:Lt,PieChart:Rt,BarChart:Nt},setup(){const{locale:t}=(0,Ut.s9)(),a=(0,at.KR)("");function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}return(0,r.wB)(t,(()=>{const r=new Date,n=r.toLocaleString(t.value,{month:"long"}),s=e(n);a.value=r.toLocaleString(t.value,{month:"long"}).replace(n,s)})),(0,r.sV)((()=>{const r=new Date,n=r.toLocaleString(t.value,{month:"long"}),s=e(n);a.value=r.toLocaleString(t.value,{month:"long"}).replace(n,s)})),{formattedDate:a}},data(){return{user:{},branches:[],companies:[],financials:[],topCountryBranche:[],topEarnings:[],countryCounts:[],totalCompaniesCounts:0,totalBrancheCounts:0,totalFinancialsCounts:0,countAllNetIncome:0,userIdentify:0,isLoaded:!1,userNameIdentify:"",netIncomeChartData:{labels:[],datasets:[{label:"Net Income",data:[],fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},chartData:{labels:[],datasets:[{label:"Branche",backgroundColor:[],borderColor:"rgb(255, 255, 255)",borderWidth:1,data:[]}]},barChartData:{labels:[],datasets:[{label:"",backgroundColor:[],borderColor:"rgb(255, 255, 255)",borderWidth:1,data:[]}]},valuationChartData:{labels:[],datasets:[{label:"Valuation das Empresas",backgroundColor:[],borderColor:[],borderWidth:1,data:[]}]},expenseChartData:{labels:[],datasets:[{label:"Revenue Counts",data:[],fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},pieChartData:{labels:[],datasets:[{label:"",data:[],backgroundColor:[],fill:!1,tension:.1}]},revenueChartData:{labels:[],datasets:[{label:"Revenue Counts",data:[],fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},sectorsChartData:{labels:[],datasets:[{label:"Sectors",data:[],fill:!1,backgroundColor:"",tension:.1}]},monthNames:{br:["Janeiro","Fevereiro","March","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],en:["January","February","March","April","May","June","July","August","September","October","November","December"]},countries:[{name:this.$t("countries.brazil"),code:"br"},{name:this.$t("countries.united_states"),code:"us"},{name:this.$t("countries.france"),code:"fr"},{name:this.$t("countries.germany"),code:"de"},{name:this.$t("countries.japan"),code:"jp"},{name:this.$t("countries.italy"),code:"it"},{name:this.$t("countries.portugal"),code:"pt"}]}},created(){const t=(0,zt.Pj)(),a=t.state.userId,e=t.state.userName;a||e||Pt.A.push("/"),this.userIdentify=a,this.userNameIdentify=e},async mounted(){this.userIdentify&&(await this.fetchUsers(),await this.fetchBranches(),await this.fetchCompanies(),await this.fetchFinancials(),this.calculateBrancheAmounts(),this.calculateBrancheAmounts(!0),this.calculateTopCountryBranches(),this.calculateRevenueCounts(),this.calculateExpenseAmounts(),this.calculateNetIncome(),this.calculateTopEarnings(),this.calculateCompaniesCounts(),this.calculateBrancheCounts(),this.calculateFinancialCounts(),this.calculateSectorCounts(),this.calculateAllNetIncome(),this.calculateNetIncomePerCategories(),this.isLoaded=!0)},methods:{async fetchUsers(){try{const t=await et.A.get(`/user/${this.userIdentify}`);this.user=t.data}catch(t){console.error("Error fetching user",t)}},async fetchCompanies(){try{const t=await et.A.get("/company");this.companies=t.data,this.companies=this.companies.filter((t=>this.user.companies.includes(t._id))),this.valuationChartData.datasets[0].backgroundColor=this.companies.map((()=>wt()())),this.valuationChartData.datasets[0].borderColor=this.companies.map((()=>wt()())),this.valuationChartData.datasets[0].data=this.companies.map((t=>t.valuation||0)),this.valuationChartData.labels=this.companies.map((t=>t.name))}catch(t){console.error("Error fetching companies:",t)}},async fetchBranches(){try{const t=await et.A.get("/branch");this.branches=t.data,this.branches=this.branches.filter((t=>this.user.branches.includes(t._id)))}catch(t){console.error("Error fetching branches:",t)}},async fetchFinancials(){try{const t=await et.A.get("/financial");this.financials=t.data,this.financials=this.financials.filter((t=>this.user.financials.includes(t._id)))}catch(t){console.error("Error fetchin financials",t)}},randomColor(){return`rgba(${Math.floor(300*Math.random())}, ${Math.floor(300*Math.random())}, ${Math.floor(300*Math.random())}, 0.5)`},getCountryName(t){const a=this.countries.find((a=>a.code===t));return a?a.name:""},formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):""},calculateCompaniesCounts(){const t=this.companies.length;this.totalCompaniesCounts=t},calculateBrancheCounts(){const t=this.branches.length;this.totalBrancheCounts=t},calculateFinancialCounts(){const t=this.financials.length;this.totalFinancialsCounts=t},calculateTopEarnings(){const t=(new Date).getMonth()+1,a=(new Date).getFullYear(),e=this.financials.reduce(((e,r)=>{const n=this.formatDate(r.date).split("/"),s=parseInt(n[0]),o=parseInt(n[2]);if(s===t&&o===a){const t=r.branch_id,a=this.branches.find((a=>a._id===t)),n=a?a.company_id:"Unknown",s=this.companies.find((t=>t._id===n)),o=s?s.name:"Unknown",c=e.get(o)||0;1===r.type?e.set(o,c+r.amount):2===r.type&&e.set(o,c-r.amount)}return e}),new Map);this.topEarnings=Array.from(e.entries()).sort(((t,a)=>a[1]-t[1])).map((([t,a])=>{const e=this.companies.find((a=>a.name===t)),r=e?e.active:0,n=e?e.sector:"Unknown";return{companyName:t,earnings:a,active:r,sector:n}}))},calculateNetIncomePerCategories(){const t=(new Date).getMonth()+1,a=(new Date).getFullYear(),e=this.financials.reduce(((e,r)=>{const n=this.formatDate(r.date).split("/"),s=parseInt(n[0]),o=parseInt(n[2]);if(s===t&&o===a){const t=r.branch_id,a=this.branches.find((a=>a._id===t)),n=a?a.company_id:"Unknown",s=this.companies.find((t=>t._id===n)),o=s?s.sector:"Unknown",c=e.get(o)||0;1===r.type?e.set(o,c+r.amount):2===r.type&&e.set(o,c-r.amount)}return e}),new Map);this.pieChartData.labels=[...e.keys()],this.pieChartData.datasets[0].data=[...e.values()],this.pieChartData.datasets[0].backgroundColor=Array.from(e.keys(),(()=>wt()()))},calculateNetIncome(){const t=this.$i18n.locale,a=this.monthNames[t],e=this.financials.reduce(((t,e)=>{const r=this.formatDate(e.date).split("/"),n=parseInt(r[0]),s=parseInt(r[2]),o=`${a[n-1]} ${s}`,c=e.branch_id,i=this.branches.find((t=>t._id===c)),l=i?i.company_id:"Unknown",d=this.companies.find((t=>t._id===l)),u=d?d.name:"Unknown",h=`${l}-${u}-${o}`,p=t[h]||0;return 1===e.type?t[h]=p+e.amount:2===e.type&&(t[h]=p-e.amount),t}),{}),r=Object.keys(e).reduce(((t,a)=>{const[r,n,s]=a.split("-"),o=t[n]||{labels:[],data:[]};return o.labels.push(s),o.data.push(e[a]),t[n]=o,t}),{}),n=Object.keys(r).map((t=>{const a=r[t];return{label:`${t}`,data:a.data,fill:!1,borderColor:wt()(),tension:.1}}));this.netIncomeChartData.labels=Array.from(new Set(Object.values(r).flatMap((t=>t.labels)))).sort().reverse(),this.netIncomeChartData.datasets=n},calculateAllNetIncome(){this.countAllNetIncome=this.financials.reduce(((t,a)=>{const e=2===a.type?-1:1;return t+=e*a.amount,t}),0)},formatCurrency(t){const a=parseFloat(t??"");return"$"+a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},calculateExpenseAmounts(){const t=this.$i18n.locale,a=this.monthNames[t],e=this.financials.reduce(((t,e)=>{const r=this.formatDate(e.date).split("/"),n=parseInt(r[0]),s=parseInt(r[2]),o=`${a[n-1]} ${s}`;if(2===e.type){const a=e.branch_id,r=this.branches.find((t=>t._id===a)),n=r?r.company_id:"Unknown",s=this.companies.find((t=>t._id===n)),c=s?s.name:"Unknown",i=`${n}-${c}-${o}`,l=t[i]||0;t[i]=l+e.amount}return t}),{}),r=Object.keys(e).reduce(((t,a)=>{const[r,n,s]=a.split("-"),o=t[n]||{labels:[],data:[]};return o.labels.push(s),o.data.push(e[a]),t[n]=o,t}),{}),n=Object.keys(r).map((t=>{const a=r[t];return{label:`${t}`,data:a.data,fill:!1,borderColor:wt()(),tension:.1}}));this.expenseChartData.labels=Array.from(new Set(Object.values(r).flatMap((t=>t.labels)))).sort().reverse(),this.expenseChartData.datasets=n},calculateRevenueCounts(){const t=this.$i18n.locale,a=this.monthNames[t],e=this.financials.reduce(((t,e)=>{const r=this.formatDate(e.date).split("/"),n=parseInt(r[0]),s=parseInt(r[2]),o=`${a[n-1]} ${s}`;if(1===e.type){const a=e.branch_id,r=this.branches.find((t=>t._id===a)),n=r?r.company_id:"Unknown",s=this.companies.find((t=>t._id===n)),c=s?s.name:"Unknown",i=`${n}-${c}-${o}`,l=t[i]||0;t[i]=l+e.amount}return t}),{}),r=Object.keys(e).reduce(((t,a)=>{const[r,n,s]=a.split("-"),o=t[n]||{labels:[],data:[]};return o.labels.push(s),o.data.push(e[a]),t[n]=o,t}),{}),n=Object.keys(r).map((t=>{const a=r[t];return{label:`${t}`,data:a.data,fill:!1,borderColor:wt()(),tension:.1}}));this.revenueChartData.labels=Array.from(new Set(Object.values(r).flatMap((t=>t.labels)))).sort().reverse(),this.revenueChartData.datasets=n},calculateBrancheAmounts(t=!1){const a=t?this.branches.filter((t=>0===t.active)):this.branches,e=a.reduce(((t,a)=>{const e=a.company_id;return t.set(e,(t.get(e)||0)+1),t}),new Map);t?(this.chartData.labels=this.companies.filter((t=>e.get(t._id)>0)).map((t=>t.name)),this.chartData.datasets[0].data=this.companies.filter((t=>e.get(t._id)>0)).map((t=>e.get(t._id)||0)),this.chartData.datasets[0].backgroundColor=this.companies.map((()=>wt()()))):(this.barChartData.labels=this.companies.map((t=>t.name)),this.barChartData.datasets[0].data=this.companies.map((t=>e.get(t._id)||0)),this.barChartData.datasets[0].backgroundColor=this.companies.map((()=>wt()())))},calculateSectorCounts(){const t=this.companies.reduce(((t,a)=>{const e=a.sector;return t.set(e,(t.get(e)||0)+1),t}),new Map),a=Array.from(t.keys()),e=Array.from(t.values()),r=[{label:"Sectors",data:e,backgroundColor:a.map((()=>wt()())),borderColor:"rgb(255, 255, 255)",borderWidth:1,fill:!1,tension:.1}];this.sectorsChartData.labels=a,this.sectorsChartData.datasets=r},getCountryCode(t){const a=this.countries.find((a=>a.code===t));return a?a.code:""},calculateTopCountryBranches(){const t=Array.from(this.branches.reduce(((t,a)=>{const e=a.country;return t.set(e,(t.get(e)||0)+1),t}),new Map),(([t,a])=>({country:t,counts:a})));this.countryCounts=t.sort(((t,a)=>a.counts-t.counts))}}});const Jt=(0,_t.A)(Tt,[["render",tt],["__scopeId","data-v-3501a89d"]]);var qt=Jt}}]);
//# sourceMappingURL=676.a0311e16.js.map